---
const { item } = Astro.props

import designSystem from '@assets/navbar/design-system.png'
import uiLibrary from '@assets/navbar/ui-library.png'
import analytics from '@assets/navbar/analytics.png'
import plusAi from '@assets/navbar/plus-ai.png'

// src/assets/navbar/logos
// src/assets/navbar/logos/angular.png
// src/assets/navbar/logos/apple.png
// src/assets/navbar/logos/figma.png
// src/assets/navbar/logos/google.png
// src/assets/navbar/logos/javascript.png
// src/assets/navbar/logos/react.png
// src/assets/navbar/logos/vue.png
// src/assets/navbar/logos/xbox.png

// logos
import angular from '@assets/navbar/logos/angular.png'
import apple from '@assets/navbar/logos/apple.png'
import figma from '@assets/navbar/logos/figma.png'
import google from '@assets/navbar/logos/google.png'
import javascript from '@assets/navbar/logos/javascript.png'
import react from '@assets/navbar/logos/react.png'
import vue from '@assets/navbar/logos/vue.png'
import xbox from '@assets/navbar/logos/xbox.png'

const logos = {
  angular: angular.src,
  apple: apple.src,
  figma: figma.src,
  google: google.src,
  javascript: javascript.src,
  react: react.src,
  vue: vue.src,
  xbox: xbox.src,
}

const images = {
  designSystem: designSystem.src,
  uiLibrary: uiLibrary.src,
  analytics: analytics.src,
  plusAi: plusAi.src,
}

const { category, title, path, image, features, integrations, status, hover } = item
---

<a href={path} class="product-card cursor-pointer group/product-card hover:bg-[var(--hover-bg)] flex flex-1 flex-col items-center gap-7 p-4 transition-colors duration-300 rounded" style={`--hover-bg: var(${hover.bg})`}>
  <div class="flex w-full flex-col gap-3">
    <div class="relative h-6" title={category.text}>
      <plus-chip invert={category.invert} size="sm" status={category.status} class="absolute top-0 left-0 transition-opacity duration-300 group-hover/product-card:opacity-0 ">
        <i class="fa-solid fa-circle text-xxxs mr-1"></i>
        <span class="line-clamp-1">{category.text}</span>
      </plus-chip>
      <plus-chip invert={!category.invert} size="sm" status={category.status} class="absolute top-0 left-0 opacity-0 transition-opacity duration-300 group-hover/product-card:opacity-100">
        <i class="fa-solid fa-circle text-xxxs mr-1"></i>
        <span class="line-clamp-1">{category.text}</span>
      </plus-chip>
    </div>
    <div class="flex flex-col gap-2">
      <h3 class="text-color-default text-lg font-semibold">
        {title}
      </h3>
      <div class="h-full w-full overflow-hidden">
        <img src={images[image]} alt={title} class="product-card-image w-full transition-transform duration-500" />
      </div>
    </div>
  </div>
  <div class="flex flex-col gap-2.5">
    {
      features.map((feature) => (
        <div class="flex flex-col gap-1">
          <h4 class="text-color-default text-sm font-medium line-clamp-1" title={feature.title}>{feature.title}</h4>
          <p class="text-color-caption text-xs line-clamp-2" title={feature.description}>{feature.description}</p>
        </div>
      ))
    }
  </div>
  <div class="flex w-full items-center justify-start gap-2.5">
    {
      integrations &&
        integrations.map((integration) => (
          <div class="flex h-6 w-6 items-center justify-center">
            <img src={logos[integration]} alt={integration} class="h-full w-auto grayscale filter transition-all duration-300 group-hover/product-card:grayscale-0" />
          </div>
        ))
    }
    {
      status && (
        <plus-chip kind="filled" shape="rounded">
          {status}
        </plus-chip>
      )
    }
  </div>
</a>

<style>
  .product-card {
    &:hover {
      .product-card-image {
        transform: scale(1.2);
      }
    }
  }
</style>
